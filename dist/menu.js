(()=>{"use strict";var __webpack_modules__={941:()=>{eval("\n;// CONCATENATED MODULE: ./src/modules/auth.js\nconst auth = () => {\r\n  const buttonAuth = document.querySelector('.button-auth');\r\n  const modalAuth = document.querySelector('.modal-auth');\r\n  const buttonOut = document.querySelector('.button-out');\r\n  const userName = document.querySelector('.user-name');\r\n  const closeAuth = document.querySelector('.close-auth');\r\n  const logInForm = document.getElementById('logInForm');\r\n  const inputLogin = document.getElementById('login');\r\n  const inputPassword = document.getElementById('password');\r\n  const buttonCart = document.querySelector('.button-cart');\r\n\r\n  const login = (user) => {\r\n    buttonAuth.style.display = 'none';\r\n    buttonOut.style.display = 'flex';\r\n    userName.style.display = 'flex';\r\n    buttonCart.style.display = 'flex';\r\n    userName.textContent = user.login;\r\n    modalAuth.style.display = 'none';\r\n  }\r\n\r\n  const logout = () => {\r\n    buttonAuth.style.display = 'flex';\r\n    buttonOut.style.display = 'none';\r\n    userName.style.display = 'none';\r\n    userName.textContent = '';\r\n    buttonCart.style.display = 'none';\r\n    localStorage.removeItem('user');\r\n  }\r\n\r\n  buttonAuth.addEventListener('click', () => {\r\n    modalAuth.style.display = 'flex';\r\n  })\r\n\r\n  closeAuth.addEventListener('click', () => {\r\n    modalAuth.style.display = 'none';\r\n  })\r\n\r\n  buttonOut.addEventListener('click', () => {\r\n    logout();\r\n  })\r\n\r\n  logInForm.addEventListener('submit', (event) => {\r\n    event.preventDefault();\r\n    \r\n    if (inputLogin.value.trim() && inputPassword.value) {\r\n      const user = {\r\n        login: inputLogin.value.trim(),\r\n        password: inputPassword.value\r\n      };\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n      login(user);\r\n    } else if (!inputLogin.value.trim()) {\r\n      alert('Для авторизации необходимо ввести логин');\r\n    } else if (!inputPassword.value) {\r\n      alert('Для авторизации необходимо ввести пароль');\r\n    }\r\n  })\r\n\r\n  if (localStorage.getItem('user')) {\r\n    login(JSON.parse(localStorage.getItem('user')));\r\n  }\r\n}\r\n\r\n/* harmony default export */ const modules_auth = (auth);\n;// CONCATENATED MODULE: ./src/modules/cart.js\nconst cart = () => {\r\n  const buttonCart = document.getElementById('cart-button');\r\n  const modalCart = document.querySelector('.modal-cart');\r\n  const close = modalCart.querySelector('.close');\r\n  const body = modalCart.querySelector('.modal-body');\r\n  const buttonSend = modalCart.querySelector('.btn-send');\r\n  const buttonClear = modalCart.querySelector('.clear-cart');\r\n  const modalPricetag = modalCart.querySelector('.modal-pricetag');\r\n\r\n  const resetCart = () => {\r\n    body.innerHTML = '';\r\n    modalPricetag.textContent = 0 + ' ₽';\r\n    localStorage.removeItem('cart');\r\n    modalCart.classList.remove('is-open');\r\n  }\r\n\r\n  const incrementCount = (id) => {\r\n    const cartArray = JSON.parse(localStorage.getItem('cart'));\r\n\r\n    cartArray.map((item) => {\r\n      if (item.id === id) {\r\n        item.count++;\r\n      }\r\n      return item;\r\n    });\r\n\r\n    localStorage.setItem('cart', JSON.stringify(cartArray));\r\n    renderItems(cartArray);\r\n  };\r\n\r\n  const decrementCount = (id) => {\r\n    const cartArray = JSON.parse(localStorage.getItem('cart'));\r\n\r\n    cartArray.map((item) => {\r\n      if (item.id === id) {\r\n        item.count = item.count > 0 ? item.count - 1 : 0\r\n        /* below will be the same result as above, but in more code\r\n        if (item.count > 0) {\r\n          item.count--;\r\n        } else {\r\n          item.count = 0;\r\n        } \r\n        */\r\n      }\r\n      return item;\r\n    });\r\n\r\n    localStorage.setItem('cart', JSON.stringify(cartArray));\r\n    renderItems(cartArray);\r\n  };\r\n\r\n  const renderItems = (data) => {\r\n    const priceArray = [];\r\n    body.innerHTML = '';\r\n    modalPricetag.textContent = 0 + ' ₽';\r\n\r\n    data.forEach(({ name, price, id, count }) => {\r\n      const itemAmount = price * count;\r\n      const cartElem = document.createElement('div');\r\n      cartElem.classList.add('food-row');\r\n      cartElem.innerHTML = `\r\n        <span class=\"food-name\">${name}</span>\r\n\t\t\t\t<strong class=\"food-price\">${price} ₽</strong>\r\n\t\t\t\t<div class=\"food-counter\">\r\n\t\t\t\t\t<button class=\"counter-button btn-dec\" data-index=\"${id}\">-</button>\r\n\t\t\t\t\t<span class=\"counter\">${count}</span>\r\n\t\t\t\t\t<button class=\"counter-button btn-inc\" data-index=\"${id}\">+</button>\r\n\t\t\t\t</div>\r\n      `\r\n\r\n      priceArray.push(itemAmount);\r\n      body.append(cartElem);\r\n\r\n      /* another way to make counting buttons, but there are way more listeners\r\n      cartElem.querySelector('.btn-dec').addEventListener('click', () => {\r\n        decrementCount(id);\r\n      })\r\n      cartElem.querySelector('.btn-inc').addEventListener('click', () => {\r\n        incrementCount(id);\r\n      })\r\n      */\r\n    });\r\n\r\n    const totalPrice = priceArray.reduce(function(sum, current) {\r\n      return sum + current;\r\n    });\r\n    modalPricetag.textContent = totalPrice + ' ₽';\r\n  }\r\n\r\n  body.addEventListener('click', (e) => {\r\n    e.preventDefault();\r\n\r\n    if (e.target.classList.contains('btn-inc')) {\r\n      incrementCount(e.target.dataset.index);\r\n    } else if (e.target.classList.contains('btn-dec')) {\r\n      decrementCount(e.target.dataset.index);\r\n    }\r\n  })\r\n\r\n  buttonSend.addEventListener('click', () => {\r\n    const cartArray = localStorage.getItem('cart');\r\n    fetch('https://jsonplaceholder.typicode.com/posts', {\r\n      method: 'POST',\r\n      body: cartArray\r\n    })\r\n    .then(response => {\r\n      if (response.ok) {\r\n        resetCart();\r\n      }\r\n    })\r\n    .catch(e => {\r\n      console.error(e);\r\n    })\r\n  })\r\n\r\n  buttonClear.addEventListener('click', resetCart);\r\n\r\n  buttonCart.addEventListener('click', () => {\r\n    if (localStorage.getItem('cart')) {\r\n      renderItems(JSON.parse(localStorage.getItem('cart')));\r\n    }\r\n    modalCart.classList.add('is-open');\r\n  })\r\n  close.addEventListener('click', () => {\r\n    modalCart.classList.remove('is-open');\r\n  })\r\n}\r\n\r\n/* harmony default export */ const modules_cart = (cart);\n;// CONCATENATED MODULE: ./src/modules/menu.js\nconst menu = () => {\r\n  const cardsMenu = document.querySelector('.cards-menu');\r\n\r\n  const changeTitle = (restaurant) => {\r\n    const restaurantTitle = document.querySelector('.restaurant-title');\r\n    const rating = document.querySelector('.rating');\r\n    const price = document.querySelector('.price');\r\n    const category = document.querySelector('.category');\r\n\r\n    restaurantTitle.textContent = restaurant.name;\r\n    rating.textContent = restaurant.stars;\r\n    price.textContent = `От ${restaurant.price} ₽`;\r\n    category.textContent = restaurant.kitchen;\r\n  }\r\n\r\n  const addToCart = (cartItem) => {\r\n    const cartArray = localStorage.getItem('cart') ? \r\n    JSON.parse(localStorage.getItem('cart')) : \r\n    [];\r\n\r\n    if (cartArray.some((item) => item.id === cartItem.id)) {\r\n      cartArray.map((item => {\r\n        if (item.id === cartItem.id) {\r\n          item.count++;\r\n        }\r\n        return item;\r\n      }))\r\n    } else {\r\n      cartArray.push(cartItem);\r\n    }\r\n\r\n    localStorage.setItem('cart', JSON.stringify(cartArray));\r\n  }\r\n\r\n  const renderItems = (data) => {\r\n    data.forEach(({\r\n      description,\r\n      id,\r\n      image,\r\n      name,\r\n      price\r\n    }) => {\r\n      const card = document.createElement('div');\r\n      card.classList.add('card');\r\n      card.innerHTML = `\r\n      <img src=\"${image}\" alt=\"${name}\" class=\"card-image\" />\r\n\t\t\t<div class=\"card-text\">\r\n\t\t\t\t<div class=\"card-heading\">\r\n\t\t\t\t\t<h3 class=\"card-title card-title-reg\">${name}</h3>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"card-info\">\r\n\t\t\t\t\t<div class=\"ingredients\">\r\n            ${description}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"card-buttons\">\r\n\t\t\t\t\t<button class=\"button button-primary button-add-cart\">\r\n\t\t\t\t\t\t<span class=\"button-card-text\">В корзину</span>\r\n\t\t\t\t\t\t<span class=\"button-cart-svg\"></span>\r\n\t\t\t\t\t</button>\r\n\t\t\t\t\t<strong class=\"card-price-bold\">${price} ₽</strong>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n    `;\r\n\r\n      card.querySelector('.button-card-text').addEventListener('click', () => {\r\n        addToCart({ name, price, id, count: 1 });\r\n      });\r\n      \r\n      cardsMenu.append(card);\r\n    });\r\n  };\r\n\r\n  if (localStorage.getItem('restaurant')) {\r\n    const restaurant = JSON.parse(localStorage.getItem('restaurant'));\r\n    changeTitle(restaurant);\r\n    \r\n    fetch(`https://fooddelivery-a5981-default-rtdb.firebaseio.com/db/${restaurant.products}`)\r\n      .then((response) => response.json())\r\n      .then((data) => {\r\n        renderItems(data);\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n  } else {\r\n    window.location.href = '/';\r\n  }\r\n}\r\n\r\n/* harmony default export */ const modules_menu = (menu);\n;// CONCATENATED MODULE: ./src/menu.js\n\r\n\r\n\r\n\r\nmodules_auth();\r\nmodules_cart();\r\nmodules_menu();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNBO0FBQ0E7QUFDQTtBQUNBLG1EQUFlLElBQUksRTs7QUMxRmU7QUFDQTtBQUNBO0FBQ2xDO0FBQ0EsWUFBSTtBQUNKLFlBQUk7QUFDSixZQUFJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZm9vZC1kZWxpdmVyeS8uL3NyYy9tb2R1bGVzL2F1dGguanM/ZTdiMSIsIndlYnBhY2s6Ly9mb29kLWRlbGl2ZXJ5Ly4vc3JjL21vZHVsZXMvY2FydC5qcz9hYzBlIiwid2VicGFjazovL2Zvb2QtZGVsaXZlcnkvLi9zcmMvbW9kdWxlcy9tZW51LmpzPzJmYWQiLCJ3ZWJwYWNrOi8vZm9vZC1kZWxpdmVyeS8uL3NyYy9tZW51LmpzP2FiMDgiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXV0aCA9ICgpID0+IHtcclxuICBjb25zdCBidXR0b25BdXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbi1hdXRoJyk7XHJcbiAgY29uc3QgbW9kYWxBdXRoID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWF1dGgnKTtcclxuICBjb25zdCBidXR0b25PdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9uLW91dCcpO1xyXG4gIGNvbnN0IHVzZXJOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnVzZXItbmFtZScpO1xyXG4gIGNvbnN0IGNsb3NlQXV0aCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jbG9zZS1hdXRoJyk7XHJcbiAgY29uc3QgbG9nSW5Gb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvZ0luRm9ybScpO1xyXG4gIGNvbnN0IGlucHV0TG9naW4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4nKTtcclxuICBjb25zdCBpbnB1dFBhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3N3b3JkJyk7XHJcbiAgY29uc3QgYnV0dG9uQ2FydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tY2FydCcpO1xyXG5cclxuICBjb25zdCBsb2dpbiA9ICh1c2VyKSA9PiB7XHJcbiAgICBidXR0b25BdXRoLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBidXR0b25PdXQuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgIHVzZXJOYW1lLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbiAgICBidXR0b25DYXJ0LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XHJcbiAgICB1c2VyTmFtZS50ZXh0Q29udGVudCA9IHVzZXIubG9naW47XHJcbiAgICBtb2RhbEF1dGguc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICB9XHJcblxyXG4gIGNvbnN0IGxvZ291dCA9ICgpID0+IHtcclxuICAgIGJ1dHRvbkF1dGguc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcclxuICAgIGJ1dHRvbk91dC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgdXNlck5hbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIHVzZXJOYW1lLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICBidXR0b25DYXJ0LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpO1xyXG4gIH1cclxuXHJcbiAgYnV0dG9uQXV0aC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIG1vZGFsQXV0aC5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xyXG4gIH0pXHJcblxyXG4gIGNsb3NlQXV0aC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIG1vZGFsQXV0aC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gIH0pXHJcblxyXG4gIGJ1dHRvbk91dC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGxvZ291dCgpO1xyXG4gIH0pXHJcblxyXG4gIGxvZ0luRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBcclxuICAgIGlmIChpbnB1dExvZ2luLnZhbHVlLnRyaW0oKSAmJiBpbnB1dFBhc3N3b3JkLnZhbHVlKSB7XHJcbiAgICAgIGNvbnN0IHVzZXIgPSB7XHJcbiAgICAgICAgbG9naW46IGlucHV0TG9naW4udmFsdWUudHJpbSgpLFxyXG4gICAgICAgIHBhc3N3b3JkOiBpbnB1dFBhc3N3b3JkLnZhbHVlXHJcbiAgICAgIH07XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyJywgSlNPTi5zdHJpbmdpZnkodXNlcikpO1xyXG4gICAgICBsb2dpbih1c2VyKTtcclxuICAgIH0gZWxzZSBpZiAoIWlucHV0TG9naW4udmFsdWUudHJpbSgpKSB7XHJcbiAgICAgIGFsZXJ0KCfQlNC70Y8g0LDQstGC0L7RgNC40LfQsNGG0LjQuCDQvdC10L7QsdGF0L7QtNC40LzQviDQstCy0LXRgdGC0Lgg0LvQvtCz0LjQvScpO1xyXG4gICAgfSBlbHNlIGlmICghaW5wdXRQYXNzd29yZC52YWx1ZSkge1xyXG4gICAgICBhbGVydCgn0JTQu9GPINCw0LLRgtC+0YDQuNC30LDRhtC40Lgg0L3QtdC+0LHRhdC+0LTQuNC80L4g0LLQstC10YHRgtC4INC/0LDRgNC+0LvRjCcpO1xyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpKSB7XHJcbiAgICBsb2dpbihKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGF1dGg7IiwiY29uc3QgY2FydCA9ICgpID0+IHtcclxuICBjb25zdCBidXR0b25DYXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhcnQtYnV0dG9uJyk7XHJcbiAgY29uc3QgbW9kYWxDYXJ0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWNhcnQnKTtcclxuICBjb25zdCBjbG9zZSA9IG1vZGFsQ2FydC5xdWVyeVNlbGVjdG9yKCcuY2xvc2UnKTtcclxuICBjb25zdCBib2R5ID0gbW9kYWxDYXJ0LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1ib2R5Jyk7XHJcbiAgY29uc3QgYnV0dG9uU2VuZCA9IG1vZGFsQ2FydC5xdWVyeVNlbGVjdG9yKCcuYnRuLXNlbmQnKTtcclxuICBjb25zdCBidXR0b25DbGVhciA9IG1vZGFsQ2FydC5xdWVyeVNlbGVjdG9yKCcuY2xlYXItY2FydCcpO1xyXG4gIGNvbnN0IG1vZGFsUHJpY2V0YWcgPSBtb2RhbENhcnQucXVlcnlTZWxlY3RvcignLm1vZGFsLXByaWNldGFnJyk7XHJcblxyXG4gIGNvbnN0IHJlc2V0Q2FydCA9ICgpID0+IHtcclxuICAgIGJvZHkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBtb2RhbFByaWNldGFnLnRleHRDb250ZW50ID0gMCArICcg4oK9JztcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdjYXJ0Jyk7XHJcbiAgICBtb2RhbENhcnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgaW5jcmVtZW50Q291bnQgPSAoaWQpID0+IHtcclxuICAgIGNvbnN0IGNhcnRBcnJheSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSk7XHJcblxyXG4gICAgY2FydEFycmF5Lm1hcCgoaXRlbSkgPT4ge1xyXG4gICAgICBpZiAoaXRlbS5pZCA9PT0gaWQpIHtcclxuICAgICAgICBpdGVtLmNvdW50Kys7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICB9KTtcclxuXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydCcsIEpTT04uc3RyaW5naWZ5KGNhcnRBcnJheSkpO1xyXG4gICAgcmVuZGVySXRlbXMoY2FydEFycmF5KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBkZWNyZW1lbnRDb3VudCA9IChpZCkgPT4ge1xyXG4gICAgY29uc3QgY2FydEFycmF5ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKTtcclxuXHJcbiAgICBjYXJ0QXJyYXkubWFwKChpdGVtKSA9PiB7XHJcbiAgICAgIGlmIChpdGVtLmlkID09PSBpZCkge1xyXG4gICAgICAgIGl0ZW0uY291bnQgPSBpdGVtLmNvdW50ID4gMCA/IGl0ZW0uY291bnQgLSAxIDogMFxyXG4gICAgICAgIC8qIGJlbG93IHdpbGwgYmUgdGhlIHNhbWUgcmVzdWx0IGFzIGFib3ZlLCBidXQgaW4gbW9yZSBjb2RlXHJcbiAgICAgICAgaWYgKGl0ZW0uY291bnQgPiAwKSB7XHJcbiAgICAgICAgICBpdGVtLmNvdW50LS07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGl0ZW0uY291bnQgPSAwO1xyXG4gICAgICAgIH0gXHJcbiAgICAgICAgKi9cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gaXRlbTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXJ0JywgSlNPTi5zdHJpbmdpZnkoY2FydEFycmF5KSk7XHJcbiAgICByZW5kZXJJdGVtcyhjYXJ0QXJyYXkpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlbmRlckl0ZW1zID0gKGRhdGEpID0+IHtcclxuICAgIGNvbnN0IHByaWNlQXJyYXkgPSBbXTtcclxuICAgIGJvZHkuaW5uZXJIVE1MID0gJyc7XHJcbiAgICBtb2RhbFByaWNldGFnLnRleHRDb250ZW50ID0gMCArICcg4oK9JztcclxuXHJcbiAgICBkYXRhLmZvckVhY2goKHsgbmFtZSwgcHJpY2UsIGlkLCBjb3VudCB9KSA9PiB7XHJcbiAgICAgIGNvbnN0IGl0ZW1BbW91bnQgPSBwcmljZSAqIGNvdW50O1xyXG4gICAgICBjb25zdCBjYXJ0RWxlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBjYXJ0RWxlbS5jbGFzc0xpc3QuYWRkKCdmb29kLXJvdycpO1xyXG4gICAgICBjYXJ0RWxlbS5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJmb29kLW5hbWVcIj4ke25hbWV9PC9zcGFuPlxyXG5cdFx0XHRcdDxzdHJvbmcgY2xhc3M9XCJmb29kLXByaWNlXCI+JHtwcmljZX0g4oK9PC9zdHJvbmc+XHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImZvb2QtY291bnRlclwiPlxyXG5cdFx0XHRcdFx0PGJ1dHRvbiBjbGFzcz1cImNvdW50ZXItYnV0dG9uIGJ0bi1kZWNcIiBkYXRhLWluZGV4PVwiJHtpZH1cIj4tPC9idXR0b24+XHJcblx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImNvdW50ZXJcIj4ke2NvdW50fTwvc3Bhbj5cclxuXHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJjb3VudGVyLWJ1dHRvbiBidG4taW5jXCIgZGF0YS1pbmRleD1cIiR7aWR9XCI+KzwvYnV0dG9uPlxyXG5cdFx0XHRcdDwvZGl2PlxyXG4gICAgICBgXHJcblxyXG4gICAgICBwcmljZUFycmF5LnB1c2goaXRlbUFtb3VudCk7XHJcbiAgICAgIGJvZHkuYXBwZW5kKGNhcnRFbGVtKTtcclxuXHJcbiAgICAgIC8qIGFub3RoZXIgd2F5IHRvIG1ha2UgY291bnRpbmcgYnV0dG9ucywgYnV0IHRoZXJlIGFyZSB3YXkgbW9yZSBsaXN0ZW5lcnNcclxuICAgICAgY2FydEVsZW0ucXVlcnlTZWxlY3RvcignLmJ0bi1kZWMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICBkZWNyZW1lbnRDb3VudChpZCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIGNhcnRFbGVtLnF1ZXJ5U2VsZWN0b3IoJy5idG4taW5jJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgaW5jcmVtZW50Q291bnQoaWQpO1xyXG4gICAgICB9KVxyXG4gICAgICAqL1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgdG90YWxQcmljZSA9IHByaWNlQXJyYXkucmVkdWNlKGZ1bmN0aW9uKHN1bSwgY3VycmVudCkge1xyXG4gICAgICByZXR1cm4gc3VtICsgY3VycmVudDtcclxuICAgIH0pO1xyXG4gICAgbW9kYWxQcmljZXRhZy50ZXh0Q29udGVudCA9IHRvdGFsUHJpY2UgKyAnIOKCvSc7XHJcbiAgfVxyXG5cclxuICBib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdidG4taW5jJykpIHtcclxuICAgICAgaW5jcmVtZW50Q291bnQoZS50YXJnZXQuZGF0YXNldC5pbmRleCk7XHJcbiAgICB9IGVsc2UgaWYgKGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnYnRuLWRlYycpKSB7XHJcbiAgICAgIGRlY3JlbWVudENvdW50KGUudGFyZ2V0LmRhdGFzZXQuaW5kZXgpO1xyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIGJ1dHRvblNlbmQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICBjb25zdCBjYXJ0QXJyYXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpO1xyXG4gICAgZmV0Y2goJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGJvZHk6IGNhcnRBcnJheVxyXG4gICAgfSlcclxuICAgIC50aGVuKHJlc3BvbnNlID0+IHtcclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgcmVzZXRDYXJ0KCk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICB9KVxyXG4gIH0pXHJcblxyXG4gIGJ1dHRvbkNsZWFyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVzZXRDYXJ0KTtcclxuXHJcbiAgYnV0dG9uQ2FydC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKSB7XHJcbiAgICAgIHJlbmRlckl0ZW1zKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSkpO1xyXG4gICAgfVxyXG4gICAgbW9kYWxDYXJ0LmNsYXNzTGlzdC5hZGQoJ2lzLW9wZW4nKTtcclxuICB9KVxyXG4gIGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgbW9kYWxDYXJ0LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLW9wZW4nKTtcclxuICB9KVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjYXJ0OyIsImNvbnN0IG1lbnUgPSAoKSA9PiB7XHJcbiAgY29uc3QgY2FyZHNNZW51ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRzLW1lbnUnKTtcclxuXHJcbiAgY29uc3QgY2hhbmdlVGl0bGUgPSAocmVzdGF1cmFudCkgPT4ge1xyXG4gICAgY29uc3QgcmVzdGF1cmFudFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJlc3RhdXJhbnQtdGl0bGUnKTtcclxuICAgIGNvbnN0IHJhdGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yYXRpbmcnKTtcclxuICAgIGNvbnN0IHByaWNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByaWNlJyk7XHJcbiAgICBjb25zdCBjYXRlZ29yeSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXRlZ29yeScpO1xyXG5cclxuICAgIHJlc3RhdXJhbnRUaXRsZS50ZXh0Q29udGVudCA9IHJlc3RhdXJhbnQubmFtZTtcclxuICAgIHJhdGluZy50ZXh0Q29udGVudCA9IHJlc3RhdXJhbnQuc3RhcnM7XHJcbiAgICBwcmljZS50ZXh0Q29udGVudCA9IGDQntGCICR7cmVzdGF1cmFudC5wcmljZX0g4oK9YDtcclxuICAgIGNhdGVnb3J5LnRleHRDb250ZW50ID0gcmVzdGF1cmFudC5raXRjaGVuO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYWRkVG9DYXJ0ID0gKGNhcnRJdGVtKSA9PiB7XHJcbiAgICBjb25zdCBjYXJ0QXJyYXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpID8gXHJcbiAgICBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpIDogXHJcbiAgICBbXTtcclxuXHJcbiAgICBpZiAoY2FydEFycmF5LnNvbWUoKGl0ZW0pID0+IGl0ZW0uaWQgPT09IGNhcnRJdGVtLmlkKSkge1xyXG4gICAgICBjYXJ0QXJyYXkubWFwKChpdGVtID0+IHtcclxuICAgICAgICBpZiAoaXRlbS5pZCA9PT0gY2FydEl0ZW0uaWQpIHtcclxuICAgICAgICAgIGl0ZW0uY291bnQrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICAgIH0pKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2FydEFycmF5LnB1c2goY2FydEl0ZW0pO1xyXG4gICAgfVxyXG5cclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXJ0JywgSlNPTi5zdHJpbmdpZnkoY2FydEFycmF5KSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCByZW5kZXJJdGVtcyA9IChkYXRhKSA9PiB7XHJcbiAgICBkYXRhLmZvckVhY2goKHtcclxuICAgICAgZGVzY3JpcHRpb24sXHJcbiAgICAgIGlkLFxyXG4gICAgICBpbWFnZSxcclxuICAgICAgbmFtZSxcclxuICAgICAgcHJpY2VcclxuICAgIH0pID0+IHtcclxuICAgICAgY29uc3QgY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoJ2NhcmQnKTtcclxuICAgICAgY2FyZC5pbm5lckhUTUwgPSBgXHJcbiAgICAgIDxpbWcgc3JjPVwiJHtpbWFnZX1cIiBhbHQ9XCIke25hbWV9XCIgY2xhc3M9XCJjYXJkLWltYWdlXCIgLz5cclxuXHRcdFx0PGRpdiBjbGFzcz1cImNhcmQtdGV4dFwiPlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkLWhlYWRpbmdcIj5cclxuXHRcdFx0XHRcdDxoMyBjbGFzcz1cImNhcmQtdGl0bGUgY2FyZC10aXRsZS1yZWdcIj4ke25hbWV9PC9oMz5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZC1pbmZvXCI+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5ncmVkaWVudHNcIj5cclxuICAgICAgICAgICAgJHtkZXNjcmlwdGlvbn1cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkLWJ1dHRvbnNcIj5cclxuXHRcdFx0XHRcdDxidXR0b24gY2xhc3M9XCJidXR0b24gYnV0dG9uLXByaW1hcnkgYnV0dG9uLWFkZC1jYXJ0XCI+XHJcblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiYnV0dG9uLWNhcmQtdGV4dFwiPtCSINC60L7RgNC30LjQvdGDPC9zcGFuPlxyXG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImJ1dHRvbi1jYXJ0LXN2Z1wiPjwvc3Bhbj5cclxuXHRcdFx0XHRcdDwvYnV0dG9uPlxyXG5cdFx0XHRcdFx0PHN0cm9uZyBjbGFzcz1cImNhcmQtcHJpY2UtYm9sZFwiPiR7cHJpY2V9IOKCvTwvc3Ryb25nPlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuICAgIGA7XHJcblxyXG4gICAgICBjYXJkLnF1ZXJ5U2VsZWN0b3IoJy5idXR0b24tY2FyZC10ZXh0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgYWRkVG9DYXJ0KHsgbmFtZSwgcHJpY2UsIGlkLCBjb3VudDogMSB9KTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICBjYXJkc01lbnUuYXBwZW5kKGNhcmQpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZXN0YXVyYW50JykpIHtcclxuICAgIGNvbnN0IHJlc3RhdXJhbnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdyZXN0YXVyYW50JykpO1xyXG4gICAgY2hhbmdlVGl0bGUocmVzdGF1cmFudCk7XHJcbiAgICBcclxuICAgIGZldGNoKGBodHRwczovL2Zvb2RkZWxpdmVyeS1hNTk4MS1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vZGIvJHtyZXN0YXVyYW50LnByb2R1Y3RzfWApXHJcbiAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gcmVzcG9uc2UuanNvbigpKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIHJlbmRlckl0ZW1zKGRhdGEpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLyc7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtZW51OyIsImltcG9ydCBhdXRoIGZyb20gXCIuL21vZHVsZXMvYXV0aFwiO1xyXG5pbXBvcnQgY2FydCBmcm9tIFwiLi9tb2R1bGVzL2NhcnRcIjtcclxuaW1wb3J0IG1lbnUgZnJvbSBcIi4vbW9kdWxlcy9tZW51XCI7XHJcblxyXG5hdXRoKCk7XHJcbmNhcnQoKTtcclxubWVudSgpOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///941\n")}},__webpack_exports__={};__webpack_modules__[941]()})();